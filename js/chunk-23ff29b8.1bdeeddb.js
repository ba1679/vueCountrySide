(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23ff29b8"],{"07ac":function(t,r,a){var e=a("23e7"),i=a("6f53").values;e({target:"Object",stat:!0},{values:function(t){return i(t)}})},"13d5":function(t,r,a){"use strict";var e=a("23e7"),i=a("d58f").left,c=a("a640"),n=a("2d00"),s=a("605d"),o=c("reduce"),d=!s&&n>79&&n<83;e({target:"Array",proto:!0,forced:!o||d},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2ff8":function(t,r,a){"use strict";a.r(r);var e=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(r){t.isLoading=r}}}),a("section",{staticClass:"containter"},[a("div",{staticClass:"row my-3"},[a("div",{staticClass:"col-lg-4 mb-2"},[a("div",{staticClass:"card text-center py-2 h-100"},[a("div",{staticClass:"card-body d-flex justify-content-around align-items-center"},[a("i",{staticClass:"fas fa-wallet text-primary fa-3x"}),a("div",[a("div",{staticClass:"h4"},[t._v("目前總收益")]),a("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(t.totalPaid)))])])])])]),a("div",{staticClass:"col-lg-4 mb-2"},[a("div",{staticClass:"card text-center py-2 h-100"},[a("div",{staticClass:"card-body d-flex justify-content-around align-items-center"},[a("i",{staticClass:"fas fa-clipboard-list text-primary fa-3x"}),a("div",[a("div",{staticClass:"h4"},[t._v("訂單總量")]),a("div",{staticClass:"h3"},[t._v(t._s(t.orderList.length))])])])])]),a("div",{staticClass:"col-lg-4 mb-2"},[a("div",{staticClass:"card text-center py-2 h-100"},[a("div",{staticClass:"card-body d-flex justify-content-around align-items-center"},[a("i",{staticClass:"fas fa-file-invoice-dollar text-primary fa-3x"}),a("div",[a("div",{staticClass:"h4"},[t._v("應收貨款")]),a("div",{staticClass:"h5 text-danger"},[t._v(t._s(t._f("currency")(t.totalUnPaid)))])])])])])]),t._m(0)])],1)},i=[function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-lg-6 mb-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v(" 產品類別售出總數 ")]),a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"chart"}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v(" 單一產品售出排名 ")]),a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"chartProduct"}})])])])])}],c=(a("4de4"),a("d81d"),a("13d5"),a("99af"),a("159b"),a("07ac"),a("b64b"),a("a434"),{name:"Chart",data:function(){return{isLoading:!1,orderList:[],chartCategoryAry:[],chartProductAry:[],products:[]}},computed:{totalPaid:function(){if(0!==this.orderList.length){var t=this.orderList.filter((function(t){return t.is_paid})),r=t.map((function(t){return t.total}));return r.reduce((function(t,r){return t+r}))}},totalUnPaid:function(){if(0!==this.orderList.length){var t=this.orderList.filter((function(t){return!t.is_paid})),r=t.map((function(t){return t.total}));return r.reduce((function(t,r){return t+r}))}}},methods:{getOrderList:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/admin/orders?page=").concat(r),e=this;e.isLoading=!0,this.$http.get(a).then((function(r){e.orderList=r.data.orders,t.renderCategoryChart(),t.renderProductChart(),e.isLoading=!1}))},renderCategoryChart:function(){var t=[],r=this;r.orderList.forEach((function(r){t.push(Object.values(r.products))}));var a={};t.forEach((function(t){t.forEach((function(t){r.products.push(t.product)}))})),r.products.forEach((function(t){a[t.category]?a[t.category]+=1:a[t.category]=1}));var e=Object.keys(a);e.forEach((function(t){var e=[];e.push(t),e.push(a[t]),r.chartCategoryAry.push(e)}));c3.generate({bindto:"#chart",data:{type:"bar",columns:this.chartCategoryAry},color:{pattern:["#ED7D31","#5A9BD5","#FFC000","#2a9d8f"]}})},renderProductChart:function(){var t={},r=this;r.products.forEach((function(r){t[r.title]?t[r.title]+=1:t[r.title]=1}));var a=Object.keys(t);if(a.forEach((function(a){var e=[];e.push(a),e.push(t[a]),r.chartProductAry.push(e)})),r.chartProductAry.sort((function(t,r){return r[1]-t[1]})),r.chartProductAry.length>3){var e=0;r.chartProductAry.forEach((function(t,r,a){r>2&&(e+=a[r][1])})),r.chartProductAry.splice(3,r.chartProductAry.length),r.chartProductAry.push(["其他",e])}c3.generate({bindto:"#chartProduct",data:{type:"pie",columns:r.chartProductAry},color:{pattern:["#ED7D31","#5A9BD5","#FFC000","#2a9d8f"]}})}},mounted:function(){this.getOrderList()}}),n=c,s=a("2877"),o=Object(s["a"])(n,e,i,!1,null,null,null);r["default"]=o.exports},"6f53":function(t,r,a){var e=a("83ab"),i=a("df75"),c=a("fc6a"),n=a("d1e7").f,s=function(t){return function(r){var a,s=c(r),o=i(s),d=o.length,u=0,f=[];while(d>u)a=o[u++],e&&!n.call(s,a)||f.push(t?[a,s[a]]:s[a]);return f}};t.exports={entries:s(!0),values:s(!1)}},8418:function(t,r,a){"use strict";var e=a("c04e"),i=a("9bf2"),c=a("5c6c");t.exports=function(t,r,a){var n=e(r);n in t?i.f(t,n,c(0,a)):t[n]=a}},"99af":function(t,r,a){"use strict";var e=a("23e7"),i=a("d039"),c=a("e8b5"),n=a("861d"),s=a("7b0b"),o=a("50c4"),d=a("8418"),u=a("65f0"),f=a("1dde"),l=a("b622"),h=a("2d00"),v=l("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",y=h>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),C=f("concat"),b=function(t){if(!n(t))return!1;var r=t[v];return void 0!==r?!!r:c(t)},m=!y||!C;e({target:"Array",proto:!0,forced:m},{concat:function(t){var r,a,e,i,c,n=s(this),f=u(n,0),l=0;for(r=-1,e=arguments.length;r<e;r++)if(c=-1===r?n:arguments[r],b(c)){if(i=o(c.length),l+i>p)throw TypeError(g);for(a=0;a<i;a++,l++)a in c&&d(f,l,c[a])}else{if(l>=p)throw TypeError(g);d(f,l++,c)}return f.length=l,f}})},a434:function(t,r,a){"use strict";var e=a("23e7"),i=a("23cb"),c=a("a691"),n=a("50c4"),s=a("7b0b"),o=a("65f0"),d=a("8418"),u=a("1dde"),f=u("splice"),l=Math.max,h=Math.min,v=9007199254740991,p="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!f},{splice:function(t,r){var a,e,u,f,g,y,C=s(this),b=n(C.length),m=i(t,b),x=arguments.length;if(0===x?a=e=0:1===x?(a=0,e=b-m):(a=x-2,e=h(l(c(r),0),b-m)),b+a-e>v)throw TypeError(p);for(u=o(C,e),f=0;f<e;f++)g=m+f,g in C&&d(u,f,C[g]);if(u.length=e,a<e){for(f=m;f<b-e;f++)g=f+e,y=f+a,g in C?C[y]=C[g]:delete C[y];for(f=b;f>b-e+a;f--)delete C[f-1]}else if(a>e)for(f=b-e;f>m;f--)g=f+e-1,y=f+a-1,g in C?C[y]=C[g]:delete C[y];for(f=0;f<a;f++)C[f+m]=arguments[f+2];return C.length=b-e+a,u}})},d58f:function(t,r,a){var e=a("1c0b"),i=a("7b0b"),c=a("44ad"),n=a("50c4"),s=function(t){return function(r,a,s,o){e(a);var d=i(r),u=c(d),f=n(d.length),l=t?f-1:0,h=t?-1:1;if(s<2)while(1){if(l in u){o=u[l],l+=h;break}if(l+=h,t?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:f>l;l+=h)l in u&&(o=a(o,u[l],l,d));return o}};t.exports={left:s(!1),right:s(!0)}},d81d:function(t,r,a){"use strict";var e=a("23e7"),i=a("b727").map,c=a("1dde"),n=c("map");e({target:"Array",proto:!0,forced:!n},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-23ff29b8.1bdeeddb.js.map