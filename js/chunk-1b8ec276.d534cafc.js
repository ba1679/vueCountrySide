(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b8ec276"],{"0bd8":function(t,a,i){},"4b67":function(t,a,i){"use strict";i("0bd8")},8418:function(t,a,i){"use strict";var e=i("c04e"),c=i("9bf2"),s=i("5c6c");t.exports=function(t,a,i){var r=e(a);r in t?c.f(t,r,s(0,i)):t[r]=i}},"99af":function(t,a,i){"use strict";var e=i("23e7"),c=i("d039"),s=i("e8b5"),r=i("861d"),n=i("7b0b"),o=i("50c4"),l=i("8418"),u=i("65f0"),d=i("1dde"),h=i("b622"),p=i("2d00"),f=h("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",m=p>=51||!c((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),_=d("concat"),C=function(t){if(!r(t))return!1;var a=t[f];return void 0!==a?!!a:s(t)},b=!m||!_;e({target:"Array",proto:!0,forced:b},{concat:function(t){var a,i,e,c,s,r=n(this),d=u(r,0),h=0;for(a=-1,e=arguments.length;a<e;a++)if(s=-1===a?r:arguments[a],C(s)){if(c=o(s.length),h+c>v)throw TypeError(g);for(i=0;i<c;i++,h++)i in s&&l(d,h,s[i])}else{if(h>=v)throw TypeError(g);l(d,h++,s)}return d.length=h,d}})},a884:function(t,a,i){t.exports=i.p+"img/蜂蜜認證.3cb63439.png"},c80f:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"container mb-5"},[e("ol",{staticClass:"breadcrumb bg-transparent pl-0"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/shopping"}},[t._v("線上商城")])],1),e("li",{staticClass:"breadcrumb-item active"},[t._v(t._s(t.productDetail.title))])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-7"},[e("div",{staticClass:"d-flex flex-column w-100 align-items-center"},[e("img",{staticClass:"img-fluid",attrs:{src:t.productDetail.imageUrl,alt:"商品圖"}}),"國產蜂蜜"===t.productDetail.category?e("i",{staticClass:"fas fa-medal text-danger mt-4"},[t._v("具有國產蜂蜜認證標章")]):t._e(),"國產蜂蜜"===t.productDetail.category?e("img",{attrs:{src:i("a884"),alt:"國產蜂蜜認證標章"}}):t._e()])]),e("div",{staticClass:"col-lg-5 "},[e("div",{staticClass:"h2"},[t._v(t._s(t.productDetail.title))]),e("div",{staticClass:"d-flex justify-content-end align-items-center"},[e("del",{staticClass:"mr-auto"},[t._v("售價 NT$"+t._s(t.productDetail.origin_price))]),e("div",{staticClass:"h3 text-danger"},[t._v(" 網路價 NT$ "),e("strong",[t._v(t._s(t.productDetail.price))])])]),e("hr"),e("p",[t._v("商品描述 : "),e("br"),t._v(t._s(t.productDetail.content))]),e("p",[t._v(t._s(t.productDetail.description))]),e("div",{staticClass:"form-inline justify-content-end"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.cartSelect,expression:"cartSelect"}],staticClass:"form-control mr-1",attrs:{name:"num"},on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.cartSelect=a.target.multiple?i:i[0]}}},t._l(10,(function(a,i){return e("option",{key:i,domProps:{value:a}},[t._v(t._s(a))])})),0),e("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addCart(t.productDetail.id,t.cartSelect)}}},[t._v("加入購物車")])])])]),e("div",{staticClass:"h4 mt-5"},[t._v("你可能也喜歡...")]),e("hr"),e("div",{staticClass:"row same-category"},t._l(t.categoryFilter,(function(a){return e("div",{key:a.id,staticClass:"col-md-4"},[e("div",{staticClass:"card h-100 "},[e("a",{staticClass:"detail-href"},[e("div",{staticClass:"detail-bg"},[e("a",{staticClass:"btn btn-primary",class:{disabled:!a.is_enabled},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.moreDetail(a.id)}}},[t._v(t._s(a.is_enabled?"查看更多":"缺貨中"))])]),e("img",{staticClass:"card-img-top",attrs:{src:a.imageUrl,alt:""}})]),e("div",{staticClass:"card-body "},[e("a",{staticClass:"h5",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.moreDetail(a.id)}}},[t._v(t._s(a.title))]),e("div",{staticClass:"d-flex justify-content-end mt-3"},[e("del",{staticClass:"mr-auto"},[t._v(t._s(t._f("currency")(a.origin_price)))]),e("span",{staticClass:"text-warning"},[t._v("特價"),e("strong",{staticClass:"h6"},[t._v(t._s(t._f("currency")(a.price)))])])])])])])})),0)])],1)},c=[],s=(i("4de4"),i("99af"),i("e68f")),r={name:"ProductInfo",data:function(){return{isLoading:!1,productDetail:{},products:[]}},mixins:[s["a"]],computed:{categoryFilter:function(){var t=this;return this.products.filter((function(a){if(a.title!==t.productDetail.title)return a.category===t.productDetail.category}))}},methods:{getProductDetail:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/product/").concat(t),i=this;i.isLoading=!0,this.$http.get(a).then((function(t){i.productDetail=t.data.product,i.isLoading=!1}))},addCart:function(t,a){this.addToCart(t,a)},getAllProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/products/all"),a=this;a.isLoading=!0,this.$http.get(t).then((function(t){a.products=t.data.products,a.isLoading=!1}))},moreDetail:function(t){this.$router.push("/productInfo/".concat(t)),this.getProductDetail(t)}},mounted:function(){var t=this.$route.params.productId;this.getProductDetail(t),this.getCartList(),this.getAllProduct()}},n=r,o=(i("4b67"),i("2877")),l=Object(o["a"])(n,e,c,!1,null,"0a1a30e7",null);a["default"]=l.exports},e68f:function(t,a,i){"use strict";i("99af"),i("159b");a["a"]={data:function(){return{carts:{},cartSelect:1}},methods:{getCartList:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/cart"),a=this;this.$http.get(t).then((function(t){a.carts=t.data.data,localStorage.setItem("cartList",JSON.stringify(a.carts.carts)),a.$bus.$emit("cartPush",a.carts.carts)}))},addToCart:function(t,a){var i="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/cart"),e=this,c=e.carts.carts,s=1;c.forEach((function(i){if(t==i.product_id){s=i.qty+a;var c=i.id,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/cart/").concat(c);e.$http.delete(r).then((function(t){}))}})),e.isLoading=!0;var r={product_id:t,qty:s};this.$http.post(i,{data:r}).then((function(t){e.$swal("加入購物車成功!"),e.$bus.$emit("cartPush",e.carts.carts),e.getCartList(),e.isLoading=!1}))},showAlert:function(t){var a=this;a.$swal({title:"確定要從購物車移除此商品?",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"確定"}).then((function(i){i.isConfirmed&&(a.$swal("刪除成功","","success"),a.deleteCart(t))}))},deleteCart:function(t){var a=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/cart/").concat(t);this.$http.delete(i).then((function(t){console.log(t),a.getCartList()})).catch((function(t){console.log(t)}))}}}}}]);
//# sourceMappingURL=chunk-1b8ec276.d534cafc.js.map