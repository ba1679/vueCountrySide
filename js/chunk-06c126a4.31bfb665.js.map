{"version":3,"sources":["webpack:///./src/views/Front/ConfirmOrder.vue?a61d","webpack:///src/views/Front/ConfirmOrder.vue","webpack:///./src/views/Front/ConfirmOrder.vue?cffd","webpack:///./src/views/Front/ConfirmOrder.vue","webpack:///./src/views/Front/ConfirmOrder.vue?c261"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","order","_m","attrs","name","_v","_e","is_paid","_s","user","email","tel","address","orderId","timeTransform","class","_f","total","_l","item","key","id","product","title","imageUrl","qty","unit","origin_price","final_total","handleFee","on","$event","preventDefault","payOrder","directives","rawName","value","expression","domProps","_q","payMethod","confirmAlert","staticRenderFns","data","coupon","products","computed","date","methods","getOrderList","vm","$http","$store","dispatch","mounted","$route","params","component"],"mappings":"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","file":"js/chunk-06c126a4.31bfb665.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"container my-5\"},[(_vm.order.is_paid)?_c('div',{staticClass:\"row mt-3 justify-content-center text-center\"},[_c('div',{staticClass:\"col-8\"},[_vm._m(0),_c('router-link',{staticClass:\"btn btn-outline-primary mr-1\",attrs:{\"to\":{ name: 'Index' }}},[_vm._v(\"回首頁\")]),_c('router-link',{staticClass:\"btn btn-primary mr-1\",attrs:{\"to\":{ name: 'Shopping' }}},[_vm._v(\"繼續逛逛\")])],1)]):_vm._e(),(!_vm.order.is_paid)?_c('div',{staticClass:\"row mt-3\"},[_vm._m(1),_vm._m(2),_vm._m(3),_vm._m(4)]):_vm._e(),_vm._m(5),_c('div',{staticClass:\"row justify-content-center my-3\"},[_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table mb-3 text-center\"},[_vm._m(6),_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"連絡電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"寄送地址\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.order.user.address ? _vm.order.user.address : '到店自取')+\" \")])])])])]),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table mb-3 text-center\"},[_vm._m(7),_c('tr',[_c('th',[_vm._v(\"訂單編號\")]),_c('td',[_vm._v(_vm._s(_vm.orderId))])]),_c('tr',[_c('th',[_vm._v(\"訂單日期\")]),_c('td',[_vm._v(_vm._s(_vm.timeTransform))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',{class:{ 'text-success': _vm.order.is_paid }},[_vm._v(\" \"+_vm._s(_vm.order.is_paid ? '已付款' : '未付款')+\" \")])]),_c('tr',[_c('th',[_vm._v(\"訂單金額\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])])])]),_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\",attrs:{\"id\":\"cartDetail\"}},[_c('div',{staticClass:\"d-flex justify-content-around align-items-center\"},[_c('a',{staticClass:\"btn btn-link btn-block text-left\",attrs:{\"href\":\"#\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseOne\"}},[_vm._v(\" 購物車明細 \")]),_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])]),_c('div',{staticClass:\"collapse show\",attrs:{\"id\":\"collapseOne\",\"data-parent\":\"#cartDetail\"}},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table\"},[_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"cart-item\"},[_vm._v(_vm._s(item.product.title))]),_c('td',[_c('img',{staticClass:\"cart-img\",attrs:{\"src\":item.product.imageUrl,\"alt\":\"商品圖\"}})]),_c('td',[_vm._v(_vm._s(item.qty))]),_c('td',[_vm._v(_vm._s(item.product.unit))]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.origin_price)))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))]),(item.coupon)?_c('td',{staticClass:\"text-right text-success\"},[_vm._v(\" 已套用優惠券 \")]):_c('td',{staticClass:\"text-right\"},[_vm._v(\" 未套用優惠券 \")])])}),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"6\"}},[_vm._v(\"處理費\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.handleFee)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"6\"}},[_vm._v(\"合計\")]),_c('td',{staticClass:\"text-right\"},[_c('strong',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm._f(\"currency\")((_vm.order.total + _vm.handleFee))))])])])],2)])]),(!_vm.order.is_paid)?_c('div',{staticClass:\"text-center mt-3\"},[_c('div',{staticClass:\"h5 pb-2\"},[_vm._v(\"選擇付款方式\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder($event)}}},[_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.payMethod),expression:\"payMethod\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"payment\",\"id\":\"creditCard\",\"value\":\"信用卡\"},domProps:{\"checked\":_vm._q(_vm.payMethod,\"信用卡\")},on:{\"change\":function($event){_vm.payMethod=\"信用卡\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"creditCard\"}},[_vm._v(\" 信用卡 \")])]),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.payMethod),expression:\"payMethod\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"payment\",\"id\":\"webATM\",\"value\":\"網路ATM\"},domProps:{\"checked\":_vm._q(_vm.payMethod,\"網路ATM\")},on:{\"change\":function($event){_vm.payMethod=\"網路ATM\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"webATM\"}},[_vm._v(\" 網路ATM \")])]),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.payMethod),expression:\"payMethod\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"payment\",\"id\":\"cash\",\"value\":\"到店付現\"},domProps:{\"checked\":_vm._q(_vm.payMethod,\"到店付現\")},on:{\"change\":function($event){_vm.payMethod=\"到店付現\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"cash\"}},[_vm._v(\" 到店付現 \")])]),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.payMethod),expression:\"payMethod\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"payment\",\"id\":\"linePay\",\"value\":\"LinePay\"},domProps:{\"checked\":_vm._q(_vm.payMethod,\"LinePay\")},on:{\"change\":function($event){_vm.payMethod=\"LinePay\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"linePay\"}},[_vm._v(\" LinePay \")])]),_c('div',{staticClass:\"d-flex justify-content-end mt-3\"},[_c('div',{class:{ 'd-none': _vm.order.is_paid }},[_c('button',{staticClass:\"btn btn-secondary mr-1\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.confirmAlert}},[_vm._v(\" 取消 \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.payOrder}},[_vm._v(\" 確認付款 \")])])])])]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"alert alert-success alert-rounded\"},[_c('div',{staticClass:\"h5\"},[_vm._v(\"結帳完成，感謝購買\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-secondary\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 1.\")]),_c('i',{staticClass:\"fas fa-shopping-cart mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"確認購物清單\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-secondary\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 2.\")]),_c('i',{staticClass:\"fas fa-info mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"輸入訂購人資料\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-primary\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 3.\")]),_c('i',{staticClass:\"fas fa-clipboard-list mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"選擇付款方式\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-light\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 3.\")]),_c('i',{staticClass:\"fas fa-check-circle mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"完成購買\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"text-center my-4\"},[_vm._v(\" 親愛的顧客您好，\"),_c('br'),_vm._v(\"感謝您訂購我們的優質農產，以下是您的訂購資訊 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"收件人資料\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"訂單資訊\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <section class=\"container my-5\">\n      <div\n        class=\"row mt-3 justify-content-center text-center\"\n        v-if=\"order.is_paid\"\n      >\n        <div class=\"col-8\">\n          <div class=\"alert alert-success alert-rounded\">\n            <div class=\"h5\">結帳完成，感謝購買</div>\n          </div>\n          <router-link\n            :to=\"{ name: 'Index' }\"\n            class=\"btn btn-outline-primary mr-1\"\n            >回首頁</router-link\n          >\n          <router-link :to=\"{ name: 'Shopping' }\" class=\"btn btn-primary mr-1\"\n            >繼續逛逛</router-link\n          >\n        </div>\n      </div>\n      <div class=\"row mt-3\" v-if=\"!order.is_paid\">\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-secondary\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 1.</small>\n            <i class=\"fas fa-shopping-cart mb-1\"></i>\n            <p class=\"h5\">確認購物清單</p>\n          </div>\n        </div>\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-secondary\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 2.</small>\n            <i class=\"fas fa-info mb-1\"></i>\n            <p class=\"h5\">輸入訂購人資料</p>\n          </div>\n        </div>\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-primary\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 3.</small>\n            <i class=\"fas fa-clipboard-list mb-1\"></i>\n            <p class=\"h5\">選擇付款方式</p>\n          </div>\n        </div>\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-light\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 3.</small>\n            <i class=\"fas fa-check-circle mb-1\"></i>\n            <p class=\"h5\">完成購買</p>\n          </div>\n        </div>\n      </div>\n      <p class=\"text-center my-4\">\n        親愛的顧客您好，<br />感謝您訂購我們的優質農產，以下是您的訂購資訊\n      </p>\n      <div class=\"row justify-content-center my-3\">\n        <div class=\"col-lg-6\">\n          <div class=\"table-responsive\">\n            <table class=\"table mb-3 text-center\">\n              <thead>\n                <th colspan=\"2\">收件人資料</th>\n              </thead>\n              <tr>\n                <th>姓名</th>\n                <td>{{ order.user.name }}</td>\n              </tr>\n              <tr>\n                <th>email</th>\n                <td>{{ order.user.email }}</td>\n              </tr>\n              <tr>\n                <th>連絡電話</th>\n                <td>{{ order.user.tel }}</td>\n              </tr>\n              <tr>\n                <th>寄送地址</th>\n                <td>\n                  {{ order.user.address ? order.user.address : '到店自取' }}\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n        <div class=\"col-lg-6\">\n          <div class=\"table-responsive\">\n            <table class=\"table mb-3 text-center\">\n              <thead>\n                <th colspan=\"2\">訂單資訊</th>\n              </thead>\n              <tr>\n                <th>訂單編號</th>\n                <td>{{ orderId }}</td>\n              </tr>\n              <tr>\n                <th>訂單日期</th>\n                <td>{{ timeTransform }}</td>\n              </tr>\n              <tr>\n                <th>付款狀態</th>\n                <td :class=\"{ 'text-success': order.is_paid }\">\n                  {{ order.is_paid ? '已付款' : '未付款' }}\n                </td>\n              </tr>\n              <tr>\n                <th>訂單金額</th>\n                <td>{{ order.total | currency }}</td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <div class=\"card\">\n          <div class=\"card-header\" id=\"cartDetail\">\n            <div class=\"d-flex justify-content-around align-items-center\">\n              <a\n                class=\"btn btn-link btn-block text-left\"\n                href=\"#\"\n                data-toggle=\"collapse\"\n                data-target=\"#collapseOne\"\n              >\n                購物車明細\n              </a>\n              <strong>{{ order.total | currency }}</strong>\n            </div>\n          </div>\n        </div>\n        <div id=\"collapseOne\" class=\"collapse show\" data-parent=\"#cartDetail\">\n          <div class=\"table-responsive\">\n            <table class=\"table\">\n              <tr v-for=\"item in order.products\" :key=\"item.id\">\n                <td class=\"cart-item\">{{ item.product.title }}</td>\n                <td>\n                  <img\n                    :src=\"item.product.imageUrl\"\n                    alt=\"商品圖\"\n                    class=\"cart-img\"\n                  />\n                </td>\n                <td>{{ item.qty }}</td>\n                <td>{{ item.product.unit }}</td>\n                <td>{{ item.product.origin_price | currency }}</td>\n                <td class=\"text-right\">{{ item.final_total | currency }}</td>\n                <td class=\"text-right text-success\" v-if=\"item.coupon\">\n                  已套用優惠券\n                </td>\n                <td class=\"text-right\" v-else>\n                  未套用優惠券\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"6\" class=\"text-right\">處理費</td>\n                <td class=\"text-right\">{{ handleFee | currency }}</td>\n              </tr>\n\n              <tr>\n                <td colspan=\"6\" class=\"text-right\">合計</td>\n                <td class=\"text-right\">\n                  <strong class=\"h4\">{{\n                    (order.total + handleFee) | currency\n                  }}</strong>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n\n        <div class=\"text-center mt-3\" v-if=\"!order.is_paid\">\n          <div class=\"h5 pb-2\">選擇付款方式</div>\n          <form @submit.prevent=\"payOrder\">\n            <div class=\"form-check form-check-inline\">\n              <input\n                class=\"form-check-input\"\n                type=\"radio\"\n                name=\"payment\"\n                id=\"creditCard\"\n                value=\"信用卡\"\n                v-model=\"payMethod\"\n              />\n              <label class=\"form-check-label\" for=\"creditCard\"> 信用卡 </label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n              <input\n                class=\"form-check-input\"\n                type=\"radio\"\n                name=\"payment\"\n                id=\"webATM\"\n                value=\"網路ATM\"\n                v-model=\"payMethod\"\n              />\n              <label class=\"form-check-label\" for=\"webATM\"> 網路ATM </label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n              <input\n                class=\"form-check-input\"\n                type=\"radio\"\n                name=\"payment\"\n                id=\"cash\"\n                value=\"到店付現\"\n                v-model=\"payMethod\"\n              />\n              <label class=\"form-check-label\" for=\"cash\"> 到店付現 </label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n              <input\n                class=\"form-check-input\"\n                type=\"radio\"\n                name=\"payment\"\n                id=\"linePay\"\n                value=\"LinePay\"\n                v-model=\"payMethod\"\n              />\n              <label class=\"form-check-label\" for=\"linePay\"> LinePay </label>\n            </div>\n            <div class=\"d-flex justify-content-end mt-3\">\n              <div :class=\"{ 'd-none': order.is_paid }\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-secondary mr-1\"\n                  @click=\"confirmAlert\"\n                >\n                  取消\n                </button>\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"payOrder\">\n                  確認付款\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nimport $ from 'jquery'\nimport { mapActions } from 'vuex'\nexport default {\n  name: 'ConfirmOrder',\n  data () {\n    return {\n      orderId: '',\n      order: {\n        coupon: '',\n        products: [],\n        user: {}\n      },\n      payMethod: '信用卡',\n      handleFee: 80\n    }\n  },\n  computed: {\n    timeTransform () {\n      const date = new Date(this.order.create_at * 1000).toLocaleDateString()\n      return date\n    }\n  },\n  methods: {\n    getOrderList (id) {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order/${id}`\n      vm.$http\n        .get(api)\n        .then((res) => {\n          vm.order = res.data.order\n        })\n        .catch(() => {\n          vm.$store.dispatch('catchErr', true)\n        })\n    },\n    confirmAlert () {\n      this.$store.dispatch('openCancelModal', true)\n    },\n    payOrder () {\n      const vm = this\n      const id = vm.orderId\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/pay/${id}`\n      vm.$store.dispatch('updateLoading', true)\n      vm.$http\n        .post(api)\n        .then(() => {\n          vm.getOrderList(id)\n          $('html,body').scrollTop(0)\n          vm.cleanCart()\n          vm.cleanAllCart()\n          vm.$store.dispatch('updateLoading', false)\n        })\n        .catch(() => {\n          vm.$store.dispatch('catchErr', true)\n        })\n    },\n    ...mapActions(['cleanCart', 'cleanAllCart'])\n  },\n  mounted () {\n    this.orderId = this.$route.params.orderId\n    this.getOrderList(this.orderId)\n  }\n}\n</script>\n<style scoped>\n.alert-rounded {\n  border-radius: 50px;\n}\n.cart-item {\n  min-width: 100px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmOrder.vue?vue&type=template&id=5ff98fa9&scoped=true&\"\nimport script from \"./ConfirmOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConfirmOrder.vue?vue&type=style&index=0&id=5ff98fa9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ff98fa9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmOrder.vue?vue&type=style&index=0&id=5ff98fa9&scoped=true&lang=css&\""],"sourceRoot":""}