{"version":3,"sources":["webpack:///./src/views/Front/OrderForm.vue?370f","webpack:///./src/views/Front/OrderForm.vue?05ca","webpack:///src/views/Front/OrderForm.vue","webpack:///./src/views/Front/OrderForm.vue?8441","webpack:///./src/views/Front/OrderForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","attrs","_s","_f","cartApi","total","handleFee","_l","item","key","id","on","$event","preventDefault","removeAlert","product","title","imageUrl","qty","unit","price","final_total","_e","status","directives","name","rawName","value","expression","domProps","target","composing","couponCode","useCoupon","scopedSlots","_u","fn","ref","invalid","sendOrder","errors","classes","form","user","class","$set","showAlert","staticRenderFns","data","couponMsg","address","message","loading","err","watch","carts","length","$router","push","computed","methods","$store","dispatch","vm","code","$http","mounted","getCartList","component"],"mappings":"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","file":"js/chunk-6b2ad376.504441d7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=style&index=0&id=1b3a9672&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"h2 text-secondary text-center\"},[_vm._v(\"上田園農產 結帳流程\")]),_vm._m(0),_c('div',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-header\",attrs:{\"id\":\"cartDetail\"}},[_c('div',{staticClass:\"d-flex justify-content-around align-items-center\"},[_c('a',{staticClass:\"btn btn-link btn-block text-left\",attrs:{\"href\":\"#\",\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseCart\"}},[_vm._v(\" 購物車明細 \")]),_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")((_vm.cartApi.total + _vm.handleFee))))])])])]),_c('div',{staticClass:\"collapse show\",attrs:{\"id\":\"collapseCart\",\"data-parent\":\"#cartDetail\"}},[_c('div',{staticClass:\"table-responsive my-3\"},[_c('table',{staticClass:\"table\"},[_vm._m(1),_vm._l((_vm.cartApi.carts),function(item){return _c('tr',{key:item.id},[_c('td',[_c('a',{staticClass:\"far fa-trash-alt text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeAlert(item.id)}}})]),_c('td',{staticClass:\"cart-title\"},[_vm._v(_vm._s(item.product.title))]),_c('td',[_c('img',{staticClass:\"cart-img\",attrs:{\"src\":item.product.imageUrl,\"alt\":\"商品圖\"}})]),_c('td',[_vm._v(\" \"+_vm._s(item.qty)+\" \")]),_c('td',[_vm._v(_vm._s(item.product.unit))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"NT$\"+_vm._s(item.total))])])}),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"6\"}},[_vm._v(\"處理費\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.handleFee)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"6\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")((_vm.cartApi.total + _vm.handleFee)))+\" \")])]),_c('tr',[(_vm.cartApi.total !== _vm.cartApi.final_total)?_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"6\"}},[_vm._v(\" 折扣價 \")]):_vm._e(),(_vm.cartApi.total !== _vm.cartApi.final_total)?_c('td',{staticClass:\"text-right text-success\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")((_vm.cartApi.final_total + _vm.handleFee)))+\" \")]):_vm._e(),(_vm.status.err)?_c('td',{staticClass:\"text-right text-danger\",attrs:{\"colspan\":\"7\"}},[_vm._v(\" 無此折價券 \")]):_vm._e()])],2),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.couponCode),expression:\"couponCode\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.couponCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.couponCode=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-success\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.useCoupon($event)}}},[_vm._v(\"套用優惠券 \"),(_vm.status.loading)?_c('i',{staticClass:\"fas fa-circle-notch fa-spin\"}):_vm._e()])])])])]),_c('div',{staticClass:\"h3 bg-light text-center text-secondary py-3\"},[_vm._v(\" 訂購人資訊 \")]),_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sendOrder($event)}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"訂購人姓名 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"name\":\"姓名\",\"id\":\"name\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group col-md-6\"},[_c('validation-provider',{attrs:{\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"訂購人Email \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"name\":\"email\",\"id\":\"email\",\"placeholder\":\"請輸入email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('validation-provider',{staticClass:\"form-group col-md-6\",attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',[_c('label',{attrs:{\"for\":\"tel\"}},[_vm._v(\"連絡電話 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"tel\",\"name\":\"電話\",\"id\":\"tel\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{staticClass:\"mr-3\",attrs:{\"for\":\"shipping\"}},[_vm._v(\" 取貨方式 : \")]),_c('div',{staticClass:\"form-check\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"id\":\"selfTake\",\"name\":\"shippingOption\",\"checked\":\"\"}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"selfTake\"}},[_vm._v(\"到店自取\")])]),_c('div',{staticClass:\"form-check\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"id\":\"shipping\",\"name\":\"shippingOption\"}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"shipping\"}},[_vm._v(\"宅配寄送\")])])])],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"address\"}},[_vm._v(\"寄送地址 \"),_c('small',{staticClass:\"ml-2\"},[_vm._v(\"若自取可跳過此欄位\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"address\",\"placeholder\":\"路名、樓層等等\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"message\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"留言區\",\"id\":\"message\",\"cols\":\"20\",\"rows\":\"5\",\"placeholder\":\"有什麼特殊需求嗎?\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('button',{staticClass:\"btn btn-secondary mr-1\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.showAlert}},[_vm._v(\" 取消 \")]),_c('button',{staticClass:\"btn btn-primary\",class:{ 'not-allow': invalid },attrs:{\"type\":\"submit\",\"disabled\":invalid}},[_vm._v(\" 下一步 \")])])])]}}])})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row mt-3\"},[_c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-secondary\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 1.\")]),_c('i',{staticClass:\"fas fa-shopping-cart mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"確認購物清單\")])])]),_c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-primary\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 2.\")]),_c('i',{staticClass:\"fas fa-info mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"輸入訂購人資料\")])])]),_c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-light\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 3.\")]),_c('i',{staticClass:\"fas fa-clipboard-list mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"選擇付款方式\")])])]),_c('div',{staticClass:\"col-lg-3\"},[_c('div',{staticClass:\"\\n            alert alert-light\\n            d-flex\\n            flex-column\\n            align-items-center\\n            alert-rounded\\n          \"},[_c('small',[_vm._v(\"STEP 3.\")]),_c('i',{staticClass:\"fas fa-check-circle mb-1\"}),_c('p',{staticClass:\"h5\"},[_vm._v(\"完成購買\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"刪除\")]),_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"品名\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單位\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"單價\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"小計\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <section class=\"container my-5\">\n      <div class=\"h2 text-secondary text-center\">上田園農產 結帳流程</div>\n      <div class=\"row mt-3\">\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-secondary\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 1.</small>\n            <i class=\"fas fa-shopping-cart mb-1\"></i>\n            <p class=\"h5\">確認購物清單</p>\n          </div>\n        </div>\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-primary\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 2.</small>\n            <i class=\"fas fa-info mb-1\"></i>\n            <p class=\"h5\">輸入訂購人資料</p>\n          </div>\n        </div>\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-light\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 3.</small>\n            <i class=\"fas fa-clipboard-list mb-1\"></i>\n            <p class=\"h5\">選擇付款方式</p>\n          </div>\n        </div>\n        <div class=\"col-lg-3\">\n          <div\n            class=\"\n              alert alert-light\n              d-flex\n              flex-column\n              align-items-center\n              alert-rounded\n            \"\n          >\n            <small>STEP 3.</small>\n            <i class=\"fas fa-check-circle mb-1\"></i>\n            <p class=\"h5\">完成購買</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-3\">\n        <div class=\"card mb-3\">\n          <div class=\"card-header\" id=\"cartDetail\">\n            <div class=\"d-flex justify-content-around align-items-center\">\n              <a\n                class=\"btn btn-link btn-block text-left\"\n                href=\"#\"\n                type=\"button\"\n                data-toggle=\"collapse\"\n                data-target=\"#collapseCart\"\n              >\n                購物車明細\n              </a>\n              <strong>{{ (cartApi.total + handleFee) | currency }}</strong>\n            </div>\n          </div>\n        </div>\n        <div id=\"collapseCart\" class=\"collapse show\" data-parent=\"#cartDetail\">\n          <div class=\"table-responsive my-3\">\n            <table class=\"table\">\n              <thead>\n                <th>刪除</th>\n                <th colspan=\"2\">品名</th>\n                <th>數量</th>\n                <th>單位</th>\n                <th class=\"text-right\">單價</th>\n                <th class=\"text-right\">小計</th>\n              </thead>\n              <tr v-for=\"item in cartApi.carts\" :key=\"item.id\">\n                <td>\n                  <a\n                    href=\"#\"\n                    class=\"far fa-trash-alt text-danger\"\n                    @click.prevent=\"removeAlert(item.id)\"\n                  ></a>\n                </td>\n                <td class=\"cart-title\">{{ item.product.title }}</td>\n                <td>\n                  <img\n                    :src=\"item.product.imageUrl\"\n                    alt=\"商品圖\"\n                    class=\"cart-img\"\n                  />\n                </td>\n                <td>\n                  {{ item.qty }}\n                </td>\n                <td>{{ item.product.unit }}</td>\n                <td class=\"text-right\">{{ item.product.price | currency }}</td>\n                <td class=\"text-right\">NT${{ item.total }}</td>\n              </tr>\n              <tr>\n                <td class=\"text-right\" colspan=\"6\">處理費</td>\n                <td class=\"text-right\">{{ handleFee | currency }}</td>\n              </tr>\n\n              <tr>\n                <td class=\"text-right\" colspan=\"6\">總計</td>\n                <td class=\"text-right\">\n                  {{ (cartApi.total + handleFee) | currency }}\n                </td>\n              </tr>\n              <tr>\n                <td\n                  class=\"text-right text-success\"\n                  colspan=\"6\"\n                  v-if=\"cartApi.total !== cartApi.final_total\"\n                >\n                  折扣價\n                </td>\n                <td\n                  class=\"text-right text-success\"\n                  v-if=\"cartApi.total !== cartApi.final_total\"\n                >\n                  {{ (cartApi.final_total + handleFee) | currency }}\n                </td>\n                <td\n                  colspan=\"7\"\n                  class=\"text-right text-danger\"\n                  v-if=\"status.err\"\n                >\n                  無此折價券\n                </td>\n              </tr>\n            </table>\n\n            <div class=\"input-group\">\n              <input type=\"text\" class=\"form-control\" v-model=\"couponCode\" />\n              <div class=\"input-group-append\">\n                <a\n                  href=\"#\"\n                  class=\"btn btn-outline-success\"\n                  @click.prevent=\"useCoupon\"\n                  >套用優惠券\n                  <i\n                    class=\"fas fa-circle-notch fa-spin\"\n                    v-if=\"status.loading\"\n                  ></i\n                ></a>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"h3 bg-light text-center text-secondary py-3\">\n          訂購人資訊\n        </div>\n        <!-- validation-observer(針對整個表單驗證)、validation-provider(針對單一input) -->\n        <validation-observer v-slot=\"{ invalid }\">\n          <form @submit.prevent=\"sendOrder\">\n            <div class=\"form-row\">\n              <div class=\"form-group col-md-6\">\n                <validation-provider\n                  rules=\"required\"\n                  v-slot=\"{ errors, classes }\"\n                >\n                  <label for=\"name\"\n                    >訂購人姓名 <span class=\"text-danger\">*</span></label\n                  >\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    :class=\"classes\"\n                    name=\"姓名\"\n                    id=\"name\"\n                    placeholder=\"請輸入姓名\"\n                    v-model=\"form.user.name\"\n                  />\n                  <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n                </validation-provider>\n              </div>\n              <div class=\"form-group col-md-6\">\n                <validation-provider\n                  rules=\"required|email\"\n                  v-slot=\"{ errors, classes }\"\n                >\n                  <label for=\"email\"\n                    >訂購人Email <span class=\"text-danger\">*</span></label\n                  >\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    :class=\"classes\"\n                    name=\"email\"\n                    id=\"email\"\n                    placeholder=\"請輸入email\"\n                    v-model=\"form.user.email\"\n                  />\n                  <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n                </validation-provider>\n              </div>\n            </div>\n            <div class=\"form-row\">\n              <validation-provider\n                class=\"form-group col-md-6\"\n                rules=\"required\"\n                v-slot=\"{ errors, classes }\"\n              >\n                <div>\n                  <label for=\"tel\"\n                    >連絡電話 <span class=\"text-danger\">*</span></label\n                  >\n                  <input\n                    class=\"form-control\"\n                    :class=\"classes\"\n                    type=\"tel\"\n                    name=\"電話\"\n                    id=\"tel\"\n                    v-model=\"form.user.tel\"\n                  />\n                  <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n                </div>\n              </validation-provider>\n\n              <div class=\"form-group col-md-6\">\n                <label for=\"shipping\" class=\"mr-3\"> 取貨方式 : </label>\n\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"radio\"\n                    id=\"selfTake\"\n                    name=\"shippingOption\"\n                    checked\n                  />\n                  <label class=\"form-check-label\" for=\"selfTake\"\n                    >到店自取</label\n                  >\n                </div>\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"radio\"\n                    id=\"shipping\"\n                    name=\"shippingOption\"\n                  />\n                  <label class=\"form-check-label\" for=\"shipping\"\n                    >宅配寄送</label\n                  >\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"address\"\n                >寄送地址 <small class=\"ml-2\">若自取可跳過此欄位</small></label\n              >\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"address\"\n                id=\"address\"\n                placeholder=\"路名、樓層等等\"\n                v-model=\"form.user.address\"\n              />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"message\">留言</label>\n              <textarea\n                name=\"留言區\"\n                id=\"message\"\n                class=\"form-control\"\n                cols=\"20\"\n                rows=\"5\"\n                placeholder=\"有什麼特殊需求嗎?\"\n                v-model=\"form.message\"\n              ></textarea>\n            </div>\n            <div class=\"d-flex justify-content-end\">\n              <button\n                type=\"button\"\n                class=\"btn btn-secondary mr-1\"\n                @click=\"showAlert\"\n              >\n                取消\n              </button>\n              <button\n                type=\"submit\"\n                class=\"btn btn-primary\"\n                :disabled=\"invalid\"\n                :class=\"{ 'not-allow': invalid }\"\n              >\n                下一步\n              </button>\n            </div>\n          </form>\n        </validation-observer>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nexport default {\n  name: 'CheckOut',\n  data () {\n    return {\n      couponCode: '',\n      couponMsg: '',\n      handleFee: 80,\n      form: {\n        user: {\n          address: ''\n        },\n        message: ''\n      },\n      status: {\n        loading: false,\n        err: false\n      }\n    }\n  },\n  watch: {\n    cartApi () {\n      if (!this.cartApi.carts.length) {\n        this.$router.push('/shopping')\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['cartApi'])\n  },\n  methods: {\n    removeAlert (id) {\n      this.$store.dispatch('openModal', true)\n      this.$store.dispatch('saveCacheId', id)\n    },\n    showAlert () {\n      this.$store.dispatch('openCancelModal', true)\n    },\n    useCoupon () {\n      const vm = this\n      vm.status.loading = true\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/coupon`\n      const couponCode = {\n        code: vm.couponCode\n      }\n      vm.$http\n        .post(api, { data: couponCode })\n        .then((res) => {\n          vm.couponCode = ''\n          if (res.data.success) {\n            vm.couponMsg = res.data.message\n            vm.getCartList()\n            vm.status.loading = false\n            vm.status.err = false\n          } else {\n            vm.status.err = true\n            vm.status.loading = false\n          }\n        })\n        .catch(() => {\n          vm.$store.dispatch('catchErr', true)\n        })\n    },\n    sendOrder () {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`\n      vm.$http\n        .post(api, { data: vm.form })\n        .then((res) => {\n          if (res.data.success) {\n            const orderId = res.data.orderId\n            vm.$router.push(`/confirmOrder/${orderId}`)\n          } else {\n            this.$store.dispatch('catchErr', true)\n          }\n        })\n        .catch(() => {\n          vm.$store.dispatch('catchErr', true)\n        })\n    },\n    ...mapActions(['getCartList'])\n  },\n  mounted () {\n    this.getCartList()\n  }\n}\n</script>\n<style scoped>\n.alert-rounded {\n  border-radius: 50px;\n}\n.cart-title {\n  min-width: 100px;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderForm.vue?vue&type=template&id=1b3a9672&scoped=true&\"\nimport script from \"./OrderForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderForm.vue?vue&type=style&index=0&id=1b3a9672&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b3a9672\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}