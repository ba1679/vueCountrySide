(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4df9d590"],{8418:function(t,e,s){"use strict";var a=s("c04e"),r=s("9bf2"),c=s("5c6c");t.exports=function(t,e,s){var i=a(e);i in t?r.f(t,i,c(0,s)):t[i]=s}},"99af":function(t,e,s){"use strict";var a=s("23e7"),r=s("d039"),c=s("e8b5"),i=s("861d"),n=s("7b0b"),l=s("50c4"),o=s("8418"),d=s("65f0"),u=s("1dde"),f=s("b622"),_=s("2d00"),v=f("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",p=_>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),C=u("concat"),b=function(t){if(!i(t))return!1;var e=t[v];return void 0!==e?!!e:c(t)},y=!p||!C;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,s,a,r,c,i=n(this),u=d(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(c=-1===e?i:arguments[e],b(c)){if(r=l(c.length),f+r>h)throw TypeError(m);for(s=0;s<r;s++,f++)s in c&&o(u,f,c[s])}else{if(f>=h)throw TypeError(m);o(u,f++,c)}return u.length=f,u}})},"9b65":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"container my-5"},[s("div",{staticClass:"row mt-3 justify-content-center text-center"},[s("div",{staticClass:"col-8"},[t.order.is_paid?s("div",{staticClass:"alert alert-success alert-rounded"},[s("div",{staticClass:"h5"},[t._v("結帳完成，感謝購買")])]):t._e()])]),t.order.is_paid?t._e():s("div",{staticClass:"row mt-3"},[t._m(0),t._m(1),t._m(2)]),t._m(3),s("div",{staticClass:"row justify-content-center my-3"},[s("div",{staticClass:"col-lg-5"},[s("div",{staticClass:"table-responsive "},[s("table",{staticClass:"table mb-3 text-center"},[t._m(4),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",[t._v("email")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("連絡電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("寄送地址")]),s("td",[t._v(t._s(t.order.user.address?t.order.user.address:"到店自取"))])])])])]),s("div",{staticClass:"col-lg-5"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table mb-3 text-center"},[t._m(5),s("tr",[s("th",[t._v("訂單編號")]),s("td",[t._v(t._s(t.orderId))])]),s("tr",[s("th",[t._v("訂單日期")]),s("td",[t._v(t._s(t.timeTransform))])]),s("tr",[s("th",[t._v("付款狀態")]),s("td",{class:{"text-success":t.order.is_paid}},[t._v(t._s(t.order.is_paid?"已付款":"未付款"))])]),s("tr",[s("th",[t._v("訂單金額")]),s("td",[t._v(t._s(t._f("currency")(t.order.total)))])])])])])]),s("div",{staticClass:"row justify-content-center "},[s("div",{staticClass:"col-lg-8 mb-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header",attrs:{id:"cartDetail"}},[s("div",{staticClass:"d-flex justify-content-around align-items-center"},[s("a",{staticClass:"btn btn-link btn-block text-left",attrs:{href:"#",type:"button","data-toggle":"collapse","data-target":"#collapseOne"}},[t._v(" 購物車明細 ")]),s("strong",[t._v(t._s(t._f("currency")(t.order.total)))])])])]),s("div",{staticClass:"collapse show",attrs:{id:"collapseOne","data-parent":"#cartDetail"}},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table"},[t._l(t.order.products,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.product.title))]),s("td",[s("img",{staticClass:"cart-img",attrs:{src:e.product.imageUrl,alt:"商品圖"}})]),s("td",[t._v(t._s(e.qty))]),s("td",[t._v(t._s(e.product.unit))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.product.price)))]),e.coupon?s("td",{staticClass:"text-right text-success"},[t._v("已套用優惠券")]):t._e()])})),t._m(6),s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("合計")]),s("td",{staticClass:"text-right"},[s("strong",{staticClass:"h4"},[t._v(t._s(t._f("currency")(t.order.total)))])])])],2)])])]),t.order.is_paid?t._e():s("div",{staticClass:"col-lg-8 text-center"},[s("div",{staticClass:"h5 pb-2"},[t._v("選擇付款方式")]),t._m(7),t._m(8),t._m(9),t._m(10),s("div",{staticClass:"d-flex justify-content-end mt-3"},[s("div",{class:{"d-none":t.order.is_paid}},[s("button",{staticClass:"btn btn-secondary mr-1",attrs:{type:"button"},on:{click:t.confirmAlert}},[t._v("取消")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.payOrder}},[t._v(" 確認付款 ")])])])])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"alert alert-secondary text-secondary d-flex flex-column align-items-center alert-rounded"},[s("small",[t._v("STEP 1.")]),s("i",{staticClass:"fas fa-info mb-1"}),s("p",{staticClass:"h5"},[t._v("輸入訂購人資料")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"alert alert-primary d-flex flex-column align-items-center alert-rounded"},[s("small",[t._v("STEP 2.")]),s("i",{staticClass:"fas fa-clipboard-list  mb-1"}),s("p",{staticClass:"h5"},[t._v("確認訂單&選擇付款方式")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"alert alert-light d-flex flex-column align-items-center alert-rounded"},[s("small",[t._v("STEP 3.")]),s("i",{staticClass:"fas fa-check-circle mb-1"}),s("p",{staticClass:"h5"},[t._v("完成購買")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"text-center my-4"},[t._v("親愛的顧客您好，"),s("br"),t._v("感謝您訂購我們的優質農產，以下是您的訂購資訊")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("收件人資料")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{colspan:"2"}},[t._v("訂單資訊")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("運費")]),s("td",{staticClass:"text-right"},[t._v("NT$80")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"payment",id:"creditCard"}}),s("label",{staticClass:"form-check-label",attrs:{for:"creditCard"}},[t._v(" 信用卡 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"payment",id:"webATM"}}),s("label",{staticClass:"form-check-label",attrs:{for:"webATM"}},[t._v(" 網路ATM ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"payment",id:"cash"}}),s("label",{staticClass:"form-check-label",attrs:{for:"cash"}},[t._v(" 到店付現 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"payment",id:"linePay"}}),s("label",{staticClass:"form-check-label",attrs:{for:"linePay"}},[t._v(" LinePay ")])])}],c=(s("99af"),{name:"ConfirmOrder",data:function(){return{orderId:"",order:{coupon:"",products:[],user:{}}}},computed:{timeTransform:function(){var t=new Date(1e3*this.order.create_at).toLocaleDateString();return t}},methods:{getOrderList:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/order/").concat(t),s=this;this.$http.get(e).then((function(t){s.order=t.data.order})).catch((function(t){console.log(t)}))},confirmAlert:function(){var t=this;this.$swal({title:"取消後需重新選購商品",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"確定"}).then((function(e){e.isConfirmed&&t.$router.push("/shopping")}))},payOrder:function(){var t=this.orderId,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("hsinhui","/pay/").concat(t),s=this;this.$http.post(e).then((function(t){s.$swal("付款成功，感謝購買!","","success")})).catch((function(t){console.log(t)}))}},mounted:function(){this.orderId=this.$route.params.orderId,this.getOrderList(this.orderId)}}),i=c,n=(s("9cd5"),s("2877")),l=Object(n["a"])(i,a,r,!1,null,"43bc7088",null);e["default"]=l.exports},"9cd5":function(t,e,s){"use strict";s("ef0c")},ef0c:function(t,e,s){}}]);
//# sourceMappingURL=chunk-4df9d590.e873128a.js.map